H5 获取小程序 实时路径判断

```javascript
 window.addEventListener('popstate', function () {
     var hash = window.location.hash;
     //            document.getElementById('body').innerHTML = hash;
     //            this.hash = hash;
     //            Vue.set('hash', hash);
     that.$set(app.data, 'hash', hash);

     if (hash == '#data=2') {
         hash = '#data=1'
     }
 });
```

小程序端代码：

```javascript
const app = getApp()

Page({
    data: {
        url: ''
    },
    onLoad: function() {
        let that = this;
        app.action._get('wce.php', function(res) {
            that.setData({
                objurl: res.data.url,
                url: res.data.url,
            });
        })
    },
    onShow: function() {
        this.setData({
            url: this.data.objurl + '#data=1'
        })
    },
    onShareAppMessage: function() {
        this.setData({
            url: this.data.objurl + '#data=2'
        })
        return {
            title: '测试',
            // imageUrl: '',
            path: '/pages/index/index'
        };
    }
})
```